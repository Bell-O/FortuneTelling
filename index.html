<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BRIL Exchange - ระบบซื้อขาย BRIL Token</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <main class="container">
        <div class="content">
            <div class="header">
                <h1 class="title">BRIL Exchange</h1>
                <a href="dashboard.html" class="btn btn-outline">
                    <i class="fas fa-chart-line"></i>
                    <span>ดูกราฟราคา</span>
                </a>
            </div>
            
            <div class="alert alert-warning">
                <i class="fas fa-exclamation-circle"></i>
                <div>
                    <h4>ข้อควรระวัง</h4>
                    <p>ระบบนี้ใช้ การตรวจสอบด้วยคน กรุณาตรวจสอบข้อมูลให้ถูกต้องก่อนทำรายการ</p>
                </div>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">ซื้อขาย BRIL Token</h2>
                    <p class="card-description">ทำรายการซื้อขายผ่านธนาคารกสิกรไทย</p>
                </div>
                
                <div class="card-content">
                    <div class="tabs">
                        <div class="tabs-list">
                            <button class="tab active" data-tab="buy">ซื้อ Token</button>
                            <button class="tab" data-tab="sell">ขาย Token</button>
                        </div>
                        
                        <!-- แท็บซื้อ Token -->
                        <div class="tab-content active" id="buy-content">
                            <div class="form-container">
                                <div class="alert alert-info">
                                    <div class="alert-content">
                                        <p class="text-medium">โอนเงินไปยังบัญชี:</p>
                                        <div class="copy-container">
                                            <span class="monospace">123-4-56789-0</span>
                                            <button class="btn-icon" onclick="copyToClipboard('123-4-56789-0', 'คัดลอกเลขบัญชีแล้ว')">
                                                <i class="fas fa-copy"></i>
                                            </button>
                                        </div>
                                        <p class="text-small">ธนาคารกสิกรไทย ชื่อบัญชี: BRIL Exchange</p>
                                        <div class="mt-2">
                                            <p class="text-medium">รหัสอ้างอิง:</p>
                                            <div class="copy-container">
                                                <span class="monospace" id="reference-code">BRIL123456</span>
                                                <button class="btn-icon" onclick="copyToClipboard(document.getElementById('reference-code').textContent, 'คัดลอกรหัสอ้างอิงแล้ว')">
                                                    <i class="fas fa-copy"></i>
                                                </button>
                                            </div>
                                        </div>
                                        <p class="text-small text-muted">*กรุณาระบุรหัสอ้างอิงนี้ในหมายเหตุการโอนเงิน</p>
                                    </div>
                                </div>
                                
                                <div class="form-group">
                                    <label for="buy-amount">จำนวน BRIL ที่ต้องการซื้อ</label>
                                    <input type="number" id="buy-amount" placeholder="0.00" class="input">
                                </div>
                                
                                <div class="form-group">
                                    <label for="buy-price">ราคาต่อหน่วย (THB)</label>
                                    <input type="text" id="buy-price" value="1,000.00" readonly class="input">
                                </div>
                                
                                <div class="form-group">
                                    <label for="buy-total">ยอดรวมที่ต้องโอน (THB)</label>
                                    <input type="text" id="buy-total" value="0.00" readonly class="input">
                                </div>
                                
                                <div class="form-group">
                                    <label for="buy-contact">ช่องทางติดต่อ (Line ID หรือ เบอร์โทร)</label>
                                    <input type="text" id="buy-contact" placeholder="Line: example หรือ Tel: 08x-xxx-xxxx" class="input">
                                </div>
                                
                                <div class="form-group">
                                    <label for="buy-slip">สลิปการโอนเงิน</label>
                                    <div class="alert alert-blue">
                                        <i class="fas fa-exclamation-circle"></i>
                                        <p>กรุณาส่งสลิปการโอนเงินผ่าน Line: @brilexchange พร้อมแจ้งรหัสอ้างอิง <span id="reference-code-display">BRIL123456</span></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- แท็บขาย Token -->
                        <div class="tab-content" id="sell-content">
                            <div class="form-container">
                                <div class="alert alert-info">
                                    <div class="alert-content">
                                        <p class="text-medium">โอน BRIL Token มาที่กระเป๋า:</p>
                                        <div class="copy-container">
                                            <span class="monospace text-small break-all">0x1234567890abcdef1234567890abcdef12345678</span>
                                            <button class="btn-icon" onclick="copyToClipboard('0x1234567890abcdef1234567890abcdef12345678', 'คัดลอกที่อยู่กระเป๋าแล้ว')">
                                                <i class="fas fa-copy"></i>
                                            </button>
                                        </div>
                                        <div class="mt-2">
                                            <p class="text-medium">จำนวนทศนิยมเฉพาะที่ต้องใส่ต่อท้าย:</p>
                                            <div class="copy-container">
                                                <span class="monospace" id="specific-decimal">.12345</span>
                                                <button class="btn-icon" onclick="copyToClipboard(document.getElementById('specific-decimal').textContent, 'คัดลอกจำนวนทศนิยมแล้ว')">
                                                    <i class="fas fa-copy"></i>
                                                </button>
                                            </div>
                                        </div>
                                        <p class="text-small text-muted mt-1" id="decimal-example">*ตัวอย่าง: หากต้องการขาย 10 BRIL ให้โอน 10.12345 BRIL</p>
                                    </div>
                                </div>
                                
                                <div class="form-group">
                                    <label for="sell-amount">จำนวน BRIL ที่ต้องการขาย</label>
                                    <input type="number" id="sell-amount" placeholder="0.00" class="input">
                                    <p class="text-small text-muted" id="sell-amount-with-decimal">*โปรดโอน 0.12345 BRIL</p>
                                </div>
                                
                                <div class="form-group">
                                    <label for="sell-price">ราคารับซื้อต่อหน่วย (THB)</label>
                                    <input type="text" id="sell-price" value="900.00" readonly class="input">
                                </div>
                                
                                <div class="form-group">
                                    <label for="sell-total">ยอดรวมที่จะได้รับ (THB)</label>
                                    <input type="text" id="sell-total" value="0.00" readonly class="input">
                                </div>
                                
                                <div class="form-group">
                                    <label for="bank-account">เลขบัญชีธนาคารของคุณ</label>
                                    <input type="text" id="bank-account" placeholder="เลขบัญชี และชื่อธนาคาร" class="input">
                                </div>
                                
                                <div class="form-group">
                                    <label for="sell-contact">ช่องทางติดต่อ (Line ID หรือ เบอร์โทร)</label>
                                    <input type="text" id="sell-contact" placeholder="Line: example หรือ Tel: 08x-xxx-xxxx" class="input">
                                </div>
                                
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="card-footer">
                    <div class="tab-buttons">
                        <button id="buy-button" class="btn btn-primary btn-full">
                            <i class="fas fa-exchange-alt"></i> ยืนยันคำสั่งซื้อ
                        </button>
                        <button id="sell-button" class="btn btn-primary btn-full" style="display: none;">
                            <i class="fas fa-exchange-alt"></i> ยืนยันคำสั่งขาย
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="footer-text">
                <p>ระบบนี้ใช้การตรวจสอบด้วยคน ซึ่งอาจใช้เวลา 0-2 ชั่วโมง</p>
                <p>หากมีข้อสงสัย ติดต่อ Line: @brilexchange</p>
            </div>
        </div>
    </main>
    
    <!-- Toast notification -->
    <div id="toast" class="toast">
        <div class="toast-content">
            <div class="toast-title">แจ้งเตือน</div>
            <div class="toast-message">ข้อความแจ้งเตือน</div>
        </div>
    </div>
    
    <script src="script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            async function updateBRILPrices() {
                try {
                    const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=brilliant-crypto-token&vs_currencies=thb');
                    const data = await response.json();
                    const marketPrice = data["brilliant-crypto-token"].thb;
        
                    // คำนวณราคาซื้อ/ขาย
                    const buyPrice = (marketPrice * 1.1).toFixed(2);   // +10%
                    const sellPrice = (marketPrice * 0.9).toFixed(2);  // -10%
        
                    // แสดงผลในช่อง input
                    document.getElementById('buy-price').value = parseFloat(buyPrice).toLocaleString('th-TH', { minimumFractionDigits: 2 });
                    document.getElementById('sell-price').value = parseFloat(sellPrice).toLocaleString('th-TH', { minimumFractionDigits: 2 });
        
                    // เพิ่ม auto คำนวณยอดรวม
                    document.getElementById('buy-amount').addEventListener('input', () => {
                        const amount = parseFloat(document.getElementById('buy-amount').value || 0);
                        document.getElementById('buy-total').value = (amount * buyPrice).toLocaleString('th-TH', { minimumFractionDigits: 2 });
                    });
        
                    document.getElementById('sell-amount').addEventListener('input', () => {
                        const amount = parseFloat(document.getElementById('sell-amount').value || 0);
                        document.getElementById('sell-total').value = (amount * sellPrice).toLocaleString('th-TH', { minimumFractionDigits: 2 });
                    });
                } catch (error) {
                    console.error('ไม่สามารถโหลดราคาจาก CoinGecko:', error);
                }
            }
        
            updateBRILPrices();
        });
        </script>
</body>
</html>